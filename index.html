<!DOCTYPE html>
<html lang="pt-BR">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
	<title>Para Rebeca</title>

	<script src="https://kit.fontawesome.com/a14ae32021.js" crossorigin="anonymous"></script>

	<script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.9.0/p5.min.js"></script>
	<script src="https://cdn.tailwindcss.com"></script>

	<script>
		tailwind.config = {
			theme: {
				extend: {
					colors: {
						cream: '#ffe',
					},
					fontFamily: {
						digit: ['digit', 'monospace'],
						sans: ['-apple-system', 'BlinkMacSystemFont', 'Segoe UI', 'Roboto', 'sans-serif'],
					}
				}
			}
		}
	</script>

	<style>
		@font-face {
			font-family: 'digit';
			src: url('digital-7_mono.ttf') format("truetype");
		}

		.fade-enter-active,
		.fade-leave-active {
			transition: opacity 2s ease;
		}

		.fade-enter-from,
		.fade-leave-to {
			opacity: 0;
		}

		#code {
			font-family: 'Consolas', 'Monaco', monospace;
		}
	</style>
</head>

<body class="bg-[#ffe] m-0 p-0 text-gray-800 overflow-x-hidden font-sans">

	<div id="app" class="w-full min-h-screen flex flex-col items-center p-4">

		<div id="top-section"
			class="w-full flex flex-col lg:flex-row items-center lg:items-start lg:justify-evenly lg:pt-12 mb-12">

			<div id="content-text"
				class="order-2 lg:order-1 w-full max-w-[500px] mt-8 lg:mt-12 text-center lg:text-left z-10 min-h-[450px] flex flex-col justify-center"
				v-show="showCode">

				<div class="bg-white/40 p-4 rounded-lg shadow-sm border border-gray-200/50 backdrop-blur-sm h-full">
					<span class="text-green-600 font-bold block mb-2">/**</span>
					<span class="text-green-600 font-bold block mb-2 ml-4">* Querida Rebeca</span>
					<span class="text-green-600 font-bold block mb-4">*/</span>

					<div v-html="typedText" class="text-base leading-relaxed whitespace-pre-wrap text-gray-800"></div>

					<div v-show="typingFinished" class="mt-8 text-center animate-pulse">
						<i class="fas fa-heart text-5xl text-red-500 drop-shadow-md"></i>
					</div>
				</div>
			</div>

			<div id="loveHeart" ref="loveHeartRef"
				class="order-1 lg:order-2 w-full max-w-[670px] aspect-square relative mb-4 lg:mb-0">

				<div id="garden" ref="gardenContainer" class="w-full h-full block"></div>

				<div id="words"
					class="absolute top-0 left-0 w-full h-full flex flex-col items-center justify-center pointer-events-none p-4">

					<transition name="fade">
						<div v-if="showMessages"
							class="bg-white/70 backdrop-blur-md border border-white/50 shadow-2xl rounded-2xl p-6 md:p-8 text-center max-w-[90%] md:max-w-[70%] z-20 pointer-events-auto">

							<div class="mb-6 border-b border-gray-300/30 pb-4">
								<div class="text-3xl font-bold text-pink-600 mb-2 drop-shadow-sm font-sans">
									Rebeca & Lucas
								</div>
								<div id="elapseClock" class="text-gray-700 text-xl font-medium" v-html="elapsedTime">
								</div>
							</div>

							<transition name="fade">
								<div v-if="showLoveU">
									<div class="text-2xl text-pink-600 font-bold drop-shadow-sm">
										Eu te amo 👩‍❤️‍💋‍👨
									</div>
									<div class="mt-2 text-lg italic text-pink-500">
										- Lucas
									</div>
								</div>
							</transition>

						</div>
					</transition>

				</div>
			</div>
		</div>

		<div id="agenda-section" class="w-full max-w-md z-10 mb-12">
			<div class="bg-white/90 backdrop-blur-md border border-gray-200/50 rounded-2xl shadow-xl overflow-hidden">

				<div class="p-6 border-b border-gray-100 flex justify-between items-center bg-white">
					<div>
						<h2 class="text-xl font-bold text-gray-800">Próximos Eventos</h2>
						<p class="text-sm text-gray-500">Agenda do casal</p>
					</div>
					<div
						class="bg-pink-50 text-pink-700 font-bold text-lg px-4 py-2 rounded-xl border border-pink-200 shadow-sm flex items-center">
						<i class="far fa-calendar-alt mr-2 opacity-70"></i>
						{{ currentYear }}
					</div>
				</div>

				<div class="p-4">
					<div v-if="events.length === 0" class="text-center py-6 text-gray-500">
						Carregando agenda...
					</div>

					<div v-else class="flex flex-col space-y-4">
						<div v-for="(event, index) in events" :key="index"
							class="flex items-center p-3 hover:bg-gray-50 rounded-xl transition-colors duration-200 cursor-default group">

							<div
								class="flex-shrink-0 w-14 h-14 bg-green-50 text-green-700 rounded-xl flex flex-col items-center justify-center border border-green-200 shadow-sm">

								<i :class="[getStyle(event.type).icon, 'text-[10px] mb-0.5 opacity-80']"></i>
								<span class="text-[10px] font-bold uppercase tracking-wide">{{ event.month }}</span>
								<span class="text-xl font-bold leading-none">{{ event.day }}</span>
							</div>

							<div class="ml-4 flex-1">
								<h3 class="text-gray-800 font-bold text-base">{{ event.title }}</h3>

								<div class="flex items-center mt-1 space-x-4 text-xs text-gray-500">
									<div class="flex items-center">
										<i class="far fa-clock mr-1.5 text-indigo-400"></i>
										{{ event.time }}
									</div>
									<div class="flex items-center max-w-[120px] hover:max-w-full transition-all duration-500 ease-in-out cursor-pointer group/loc relative"
										:title="event.location">
										<i
											class="fas fa-map-marker-alt mr-1.5 text-red-400 opacity-80 flex-shrink-0"></i>
										<span
											class="truncate group-hover/loc:whitespace-normal group-hover/loc:overflow-visible text-gray-600">
											{{ event.location }}
										</span>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>

				<div class="bg-gray-50 p-3 text-center border-t border-gray-100">
					<span class="text-xs text-pink-500 font-semibold cursor-pointer hover:underline">
						Ver calendário completo
					</span>
				</div>

			</div>
		</div>
	</div>

	<script type="module" src="js/app.js"></script>
</body>

</html>